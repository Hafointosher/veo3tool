<!DOCTYPE html>
<html lang="vi">

<head>
  <meta charset="UTF-8">
  <title>Auto Flow Pro</title>
  <link rel="stylesheet" href="panel.css">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>
  <div class="app-container">
    <!-- Header -->
    <header>
      <div class="branding">
        <span class="material-icons logo-icon">auto_fix_high</span>
        <div class="brand-text">
          <span class="app-name">Auto Flow Pro</span>
          <span class="app-sub">Automation for VEO AI</span>
        </div>
        <span class="version">v8.0.0</span>
      </div>
      <div class="header-badges">
        <span class="badge status-idle" id="appStatusBadge">S·∫µn s√†ng</span>
        <button class="btn-icon header-btn" id="btnSettings" title="Settings">
          <span class="material-icons">settings</span>
        </button>
        <button class="btn-icon header-btn" id="btnHelp" title="Help">
          <span class="material-icons">help_outline</span>
        </button>
      </div>
    </header>

    <!-- Main Navigation Tabs -->
    <div class="main-tabs">
      <button class="tab-btn active" data-tab="text-mode">
        <span class="material-icons">text_fields</span>
        Text
      </button>
      <button class="tab-btn" data-tab="image-mode">
        <span class="material-icons">image</span>
        Image
      </button>
      <button class="tab-btn" data-tab="dashboard-mode">
        <span class="material-icons">dashboard</span>
        Dashboard
      </button>
      <button class="tab-btn" data-tab="scheduler-mode">
        <span class="material-icons">schedule</span>
        Scheduler
      </button>
    </div>

    <!-- Global Controls Panel -->
    <div class="controls-panel" id="controlsPanel">
      <div class="control-row">
        <div class="comp-select">
          <label>Model</label>
          <select id="settingModel">
            <option value="Veo 3.1 fast">Veo 3.1 (Fast)</option>
            <option value="Veo 3.1 Quality">Veo 3.1 (Quality)</option>
            <option value="Veo 3.1 fast Lower Priority">Veo 3.1 Fast (Lower)</option>
            <option value="Veo 2">Veo 2</option>
          </select>
        </div>
        <div class="comp-select small">
          <label>T·ª∑ l·ªá</label>
          <select id="settingRatio">
            <option value="Ngang">16:9</option>
            <option value="D·ªçc">9:16</option>
            <option value="Vu√¥ng">1:1</option>
          </select>
        </div>
        <div class="comp-select small">
          <label>S·ªë l∆∞·ª£ng</label>
          <select id="settingCount">
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
          </select>
        </div>
      </div>

      <div class="control-row secondary">
        <label class="toggle-row">
          <input type="checkbox" id="chkAutoDownload" checked>
          <span>Auto Download</span>
        </label>
        <div class="input-group">
          <span>Batch Size</span>
          <input type="number" id="settingBatchSize" value="4" min="1" max="10" style="width: 45px;">
        </div>
        <div class="input-group">
          <span>Rest (s)</span>
          <input type="number" id="settingRestTime" value="60" min="10" max="300" style="width: 50px;">
        </div>
        <div class="input-group">
          <span>Timeout (s)</span>
          <input type="number" id="settingTimeout" value="300" style="width: 55px;">
        </div>
      </div>

      <!-- Queue Strategy -->
      <div class="control-row tertiary">
        <div class="comp-select small">
          <label>Chi·∫øn L∆∞·ª£c H√†ng ƒê·ª£i</label>
          <select id="settingQueueStrategy">
            <option value="fifo">Tu·∫ßn t·ª± (V√†o tr∆∞·ªõc - Ra tr∆∞·ªõc)</option>
            <option value="priority">Theo ƒê·ªô ∆∞u ti√™n</option>
            <option value="short-first">Prompt ng·∫Øn tr∆∞·ªõc</option>
            <option value="shuffle">Ng·∫´u nhi√™n</option>
          </select>
        </div>
        <div class="comp-select small">
          <label>Phong C√°ch Prompt</label>
          <select id="settingPromptStyle">
            <option value="none">Kh√¥ng tƒÉng c∆∞·ªùng</option>
            <option value="cinematic">ƒêi·ªán ·∫£nh</option>
            <option value="anime">Ho·∫°t h√¨nh Anime</option>
            <option value="realistic">Th·ª±c t·∫ø</option>
            <option value="vintage">C·ªï ƒëi·ªÉn</option>
            <option value="documentary">Phim t√†i li·ªáu</option>
            <option value="noir">Phim Noir</option>
            <option value="scifi">Khoa h·ªçc vi·ªÖn t∆∞·ªüng</option>
          </select>
        </div>
      </div>

      <!-- Scene Consistency Panel -->
      <div class="consistency-panel">
        <div class="panel-header" id="consistencyToggle">
          <span class="material-icons">palette</span>
          <span>ƒê·ªìng Nh·∫•t Ph√¢n C·∫£nh</span>
          <span class="material-icons toggle-icon">expand_more</span>
        </div>
        <div class="panel-content" id="consistencyContent" style="display:none;">
          <div class="consistency-row">
            <label>üë§ Nh√¢n v·∫≠t</label>
            <input type="text" id="contextCharacter" placeholder="young woman with red hair, wearing blue dress">
          </div>
          <div class="consistency-row">
            <label>üèôÔ∏è B·ªëi c·∫£nh</label>
            <input type="text" id="contextLocation" placeholder="neon-lit cyberpunk tokyo streets at night">
          </div>
          <div class="consistency-row">
            <label>üé® Phong c√°ch</label>
            <input type="text" id="contextStyle" placeholder="cinematic, 4K, dramatic lighting">
          </div>
          <div class="consistency-row">
            <label>üí´ T√¢m tr·∫°ng</label>
            <input type="text" id="contextMood" placeholder="mysterious, tense, emotional">
          </div>
          <div class="consistency-row">
            <label>üé¨ Camera</label>
            <select id="contextCamera">
              <option value="">-- Kh√¥ng ch·ªçn --</option>
              <option value="tracking">B√°m theo ch·ªß th·ªÉ</option>
              <option value="dolly">Dolly Zoom (Thu ph√≥ng)</option>
              <option value="aerial">Flycam/Drone</option>
              <option value="handheld">C·∫ßm tay</option>
              <option value="static">C·ªë ƒë·ªãnh</option>
              <option value="crane">C·∫ßn c·∫©u</option>
              <option value="pov">G√≥c nh√¨n ch·ªß th·ªÉ</option>
            </select>
          </div>
          <div class="consistency-actions">
            <button id="btnApplyContext" class="btn-accent">
              <span class="material-icons">check</span> √Åp d·ª•ng
            </button>
            <button id="btnClearContext" class="btn-secondary">
              <span class="material-icons">clear</span> X√≥a
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- CONTENT AREA: TEXT MODE -->
    <div id="text-mode" class="mode-content active">
      <div class="toolbar">
        <input type="file" id="promptFile" accept=".txt" hidden>
        <button id="btnImport" class="tool-btn">
          <span class="material-icons">upload</span> Nh·∫≠p Txt
        </button>
        <button id="btnAddData" class="tool-btn">
          <span class="material-icons">add</span> Th√™m
        </button>
        <button id="btnEnhanceAll" class="tool-btn accent">
          <span class="material-icons">auto_awesome</span> Enhance
        </button>
        <button id="btnRetryFailed" class="tool-btn warning">
          <span class="material-icons">refresh</span> Retry Failed
        </button>
        <button id="btnClear" class="tool-btn danger">
          <span class="material-icons">delete_sweep</span> X√≥a h·∫øt
        </button>
        <div class="spacer"></div>
        <span id="lblCount" class="counter">0 Prompts</span>
      </div>

      <div class="prompt-add-box" id="manualInputBox" style="display:none;">
        <textarea id="txtManualInput" placeholder="Nh·∫≠p prompt (m·ªói d√≤ng 1 c√°i)..."></textarea>
        <div class="add-box-actions">
          <button id="btnGenerateVariations" class="btn-secondary">
            <span class="material-icons">shuffle</span> T·∫°o Variations
          </button>
          <button id="btnConfirmAdd" class="btn-confirm">Th√™m v√†o list</button>
        </div>
      </div>

      <div class="list-wrapper">
        <div class="list-header">
          <span style="width: 20px">#</span>
          <span style="width: 35px">Scene</span>
          <span style="flex:1">N·ªôi dung Prompt</span>
          <span style="width: 50px">Pri</span>
          <span style="width: 65px">TT</span>
          <span style="width: 60px">Actions</span>
        </div>
        <div id="promptsList" class="scroll-list">
          <!-- Items rendered here -->
        </div>
      </div>
    </div>

    <!-- CONTENT AREA: IMAGE MODE -->
    <div id="image-mode" class="mode-content">
      <div class="toolbar">
        <input type="file" id="imgFiles" multiple accept="image/*" hidden>
        <input type="file" id="imgPromptFile" accept=".txt" hidden>

        <button id="btnSelectImages" class="tool-btn">
          <span class="material-icons">add_photo_alternate</span> Ch·ªçn ·∫¢nh
        </button>
        <button id="btnImpImgPrompts" class="tool-btn">
          <span class="material-icons">upload</span> N·∫°p Prompt
        </button>
        <button id="btnAddImgPrompts" class="tool-btn">
          <span class="material-icons">post_add</span> Nh·∫≠p Prompt
        </button>
        <button id="btnClearImages" class="tool-btn danger">
          <span class="material-icons">delete</span> X√≥a
        </button>

        <div class="spacer"></div>
        <select id="sortImages" class="tiny-select">
          <option value="name_asc">A-Z</option>
          <option value="name_desc">Z-A</option>
        </select>
      </div>

      <div class="prompt-add-box" id="imgManualInputBox" style="display:none;">
        <textarea id="txtImgManualInput" placeholder="Nh·∫≠p danh s√°ch prompt (m·ªói d√≤ng t∆∞∆°ng ·ª©ng 1 ·∫£nh)..."></textarea>
        <button id="btnConfirmImgPrompts" class="btn-confirm">√Åp d·ª•ng cho list ·∫£nh</button>
      </div>

      <div class="list-wrapper">
        <div class="list-header">
          <span style="width: 20px">#</span>
          <span style="width: 50px">Preview</span>
          <span style="flex:1">T√™n file</span>
          <span style="flex:1">Prompt</span>
          <span style="width: 50px">TT</span>
        </div>
        <div id="imageList" class="scroll-list">
          <!-- Image Items -->
        </div>
      </div>
      <div class="footer-info" id="imgFooterCount">0 ·∫£nh ƒë√£ ch·ªçn</div>
    </div>

    <!-- CONTENT AREA: DASHBOARD -->
    <div id="dashboard-mode" class="mode-content">
      <div class="dashboard-grid">
        <div class="stat-card">
          <span class="stat-value" id="statTotal">0</span>
          <span class="stat-label">T·ªïng Tasks</span>
        </div>
        <div class="stat-card success">
          <span class="stat-value" id="statDone">0</span>
          <span class="stat-label">Ho√†n th√†nh</span>
        </div>
        <div class="stat-card warning">
          <span class="stat-value" id="statRunning">0</span>
          <span class="stat-label">ƒêang ch·∫°y</span>
        </div>
        <div class="stat-card danger">
          <span class="stat-value" id="statFailed">0</span>
          <span class="stat-label">L·ªói</span>
        </div>
      </div>

      <div class="eta-display">
        <span class="material-icons">schedule</span>
        <span id="etaText">ETA: Ch∆∞a x√°c ƒë·ªãnh</span>
      </div>

      <div class="rate-limit-display">
        <span class="material-icons">speed</span>
        <span id="rateLimitText">Rate: -- / min</span>
      </div>

      <!-- Progress Timeline -->
      <div class="section-title">
        <span class="material-icons">timeline</span>
        Timeline
      </div>
      <div class="timeline-wrapper" id="timelineWrapper">
        <div id="progressTimeline" class="progress-timeline">
          <!-- Timeline items rendered here -->
        </div>
      </div>

      <!-- Video Gallery -->
      <div class="section-title">
        <span class="material-icons">video_library</span>
        Video Gallery
        <button id="btnDownloadAll" class="btn-mini-action">
          <span class="material-icons">download</span> Download All
        </button>
      </div>
      <div class="video-gallery" id="videoGallery">
        <!-- Videos rendered here -->
      </div>

      <!-- Logs Section -->
      <div class="section-title">
        <span class="material-icons">article</span>
        Logs
        <button id="btnExportLogs" class="btn-mini-action">
          <span class="material-icons">download</span> Export
        </button>
        <button id="btnClearLogs" class="btn-mini-action danger">
          <span class="material-icons">delete</span> Clear
        </button>
      </div>
      <div class="logs-container" id="logsContainer">
        <!-- Logs rendered here -->
      </div>
    </div>

    <!-- CONTENT AREA: SCHEDULER -->
    <div id="scheduler-mode" class="mode-content">
      <div class="scheduler-form">
        <div class="form-group">
          <label>
            <span class="material-icons">event</span>
            Th·ªùi gian b·∫Øt ƒë·∫ßu
          </label>
          <input type="datetime-local" id="scheduleTime">
        </div>

        <div class="form-group">
          <label>
            <span class="material-icons">repeat</span>
            L·∫∑p l·∫°i
          </label>
          <select id="scheduleRepeat">
            <option value="">Kh√¥ng l·∫∑p (M·ªôt l·∫ßn)</option>
            <option value="hourly">M·ªói gi·ªù</option>
            <option value="daily">H√†ng ng√†y</option>
            <option value="weekly">H√†ng tu·∫ßn</option>
          </select>
        </div>

        <div class="form-group">
          <label>
            <span class="material-icons">playlist_play</span>
            Tasks ƒë·ªÉ ch·∫°y
          </label>
          <select id="scheduleTaskSource">
            <option value="current">Queue hi·ªán t·∫°i</option>
            <option value="saved">T·ª´ Profile ƒë√£ l∆∞u</option>
          </select>
        </div>

        <button id="btnScheduleJob" class="btn-schedule">
          <span class="material-icons">schedule_send</span>
          L√™n l·ªãch ch·∫°y
        </button>
      </div>

      <div class="section-title">
        <span class="material-icons">pending_actions</span>
        Scheduled Jobs
      </div>
      <div class="scheduled-jobs-list" id="scheduledJobsList">
        <!-- Scheduled jobs rendered here -->
      </div>

      <div class="section-title" style="margin-top: 20px;">
        <span class="material-icons">folder</span>
        Profile Management
      </div>
      <div class="profile-actions">
        <button id="btnExportProfile" class="tool-btn">
          <span class="material-icons">download</span> Export Profile
        </button>
        <button id="btnImportProfile" class="tool-btn">
          <span class="material-icons">upload</span> Import Profile
        </button>
        <input type="file" id="profileFileInput" accept=".json" hidden>
      </div>

      <!-- Webhook Settings -->
      <div class="section-title" style="margin-top: 20px;">
        <span class="material-icons">webhook</span>
        Webhook Notifications
      </div>
      <div class="webhook-form">
        <input type="url" id="webhookUrl" placeholder="https://discord.com/api/webhooks/..." class="webhook-input">
        <div class="webhook-events">
          <label><input type="checkbox" id="webhookTaskComplete" checked> Task Complete</label>
          <label><input type="checkbox" id="webhookQueueComplete" checked> Queue Complete</label>
          <label><input type="checkbox" id="webhookError"> On Error</label>
        </div>
        <button id="btnSaveWebhook" class="btn-secondary">
          <span class="material-icons">save</span> L∆∞u Webhook
        </button>
      </div>
    </div>

    <!-- Footer Actions -->
    <div class="footer-actions">
      <button id="btnStart" class="btn-big-run">
        <span class="material-icons">play_circle</span>
        B·∫ÆT ƒê·∫¶U CH·∫†Y
      </button>
      <button id="btnPause" class="btn-pause" disabled>
        <span class="material-icons">pause_circle</span>
      </button>
      <button id="btnStop" class="btn-big-stop" disabled>
        <span class="material-icons">stop_circle</span>
        D·ª™NG
      </button>
    </div>

  </div>

  <!-- Settings Modal -->
  <div id="settingsModal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h3><span class="material-icons">settings</span> C√†i ƒë·∫∑t n√¢ng cao</h3>
        <button class="btn-close" id="btnCloseSettings">&times;</button>
      </div>
      <div class="modal-body">
        <div class="settings-group">
          <h4>Rate Limiting</h4>
          <div class="form-row">
            <label>Max requests/minute:</label>
            <input type="number" id="settingRatePerMinute" value="12" min="1" max="30">
          </div>
          <div class="form-row">
            <label>Max requests/hour:</label>
            <input type="number" id="settingRatePerHour" value="120" min="10" max="500">
          </div>
        </div>

        <div class="settings-group">
          <h4>Retry Settings</h4>
          <div class="form-row">
            <label>Max retries:</label>
            <input type="number" id="settingMaxRetries" value="3" min="1" max="10">
          </div>
          <div class="form-row">
            <label>Retry delay (ms):</label>
            <input type="number" id="settingRetryDelay" value="2000" min="500" max="10000">
          </div>
        </div>

        <div class="settings-group">
          <h4>Notifications</h4>
          <label class="toggle-row">
            <input type="checkbox" id="settingNotifyComplete" checked>
            <span>Th√¥ng b√°o khi ho√†n th√†nh</span>
          </label>
          <label class="toggle-row">
            <input type="checkbox" id="settingNotifyError" checked>
            <span>Th√¥ng b√°o khi c√≥ l·ªói</span>
          </label>
        </div>
      </div>
      <div class="modal-footer">
        <button id="btnSaveSettings" class="btn-confirm">L∆∞u c√†i ƒë·∫∑t</button>
      </div>
    </div>
  </div>

  <!-- Help Modal -->
  <div id="helpModal" class="modal hidden">
    <div class="modal-content large">
      <div class="modal-header">
        <h3><span class="material-icons">help_outline</span> H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng</h3>
        <button class="btn-close" id="btnCloseHelp">&times;</button>
      </div>
      <div class="modal-body help-content">
        <h4>üöÄ B·∫Øt ƒë·∫ßu nhanh</h4>
        <ol>
          <li>M·ªü trang <strong>labs.google</strong> (VEO AI)</li>
          <li>Import file .txt ch·ª©a prompts ho·∫∑c th√™m th·ªß c√¥ng</li>
          <li>Ch·ªçn Model, T·ª∑ l·ªá, v√† c√°c c√†i ƒë·∫∑t kh√°c</li>
          <li>Nh·∫•n <strong>B·∫ÆT ƒê·∫¶U CH·∫†Y</strong></li>
        </ol>

        <h4>üìù Text-to-Video Mode</h4>
        <ul>
          <li><strong>Nh·∫≠p Txt:</strong> Import file .txt (m·ªói d√≤ng = 1 prompt)</li>
          <li><strong>Th√™m:</strong> Nh·∫≠p th·ªß c√¥ng nhi·ªÅu prompts</li>
          <li><strong>Enhance:</strong> T·ª± ƒë·ªông th√™m style cho prompts</li>
          <li><strong>Drag & Drop:</strong> K√©o th·∫£ ƒë·ªÉ s·∫Øp x·∫øp l·∫°i th·ª© t·ª±</li>
        </ul>

        <h4>üñºÔ∏è Image-to-Video Mode</h4>
        <ul>
          <li>Ch·ªçn nhi·ªÅu ·∫£nh c√πng l√∫c</li>
          <li>N·∫°p file prompt .txt ƒë·ªÉ g√°n cho t·ª´ng ·∫£nh</li>
          <li>S·∫Øp x·∫øp theo t√™n A-Z ho·∫∑c Z-A</li>
        </ul>

        <h4>üìä Dashboard</h4>
        <ul>
          <li>Theo d√µi ti·∫øn tr√¨nh real-time</li>
          <li>Xem ETA d·ª± ki·∫øn</li>
          <li>Video Gallery: Xem v√† t·∫£i video ƒë√£ ho√†n th√†nh</li>
          <li>Logs: Xem chi ti·∫øt ho·∫°t ƒë·ªông</li>
        </ul>

        <h4>‚è∞ Scheduler</h4>
        <ul>
          <li>L√™n l·ªãch ch·∫°y queue t·ª± ƒë·ªông</li>
          <li>H·ªó tr·ª£ l·∫∑p l·∫°i: M·ªói gi·ªù, H√†ng ng√†y, H√†ng tu·∫ßn</li>
          <li>Export/Import Profile ƒë·ªÉ backup</li>
        </ul>

        <h4>üîî Webhook</h4>
        <p>Nh·∫≠n th√¥ng b√°o qua Discord, Slack, ho·∫∑c b·∫•t k·ª≥ webhook URL n√†o.</p>

        <h4>‚öôÔ∏è Hotkeys</h4>
        <ul>
          <li><kbd>Ctrl</kbd> + <kbd>Enter</kbd>: B·∫Øt ƒë·∫ßu ch·∫°y</li>
          <li><kbd>Escape</kbd>: D·ª´ng queue</li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Edit Prompt Modal -->
  <div id="editModal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h3><span class="material-icons">edit</span> Ch·ªânh s·ª≠a Prompt</h3>
        <button class="btn-close" id="btnCloseEdit">&times;</button>
      </div>
      <div class="modal-body">
        <textarea id="editPromptText" class="edit-textarea"></textarea>
        <div class="edit-options">
          <label>Priority:</label>
          <select id="editPromptPriority">
            <option value="1">Low</option>
            <option value="2" selected>Normal</option>
            <option value="3">High</option>
          </select>
        </div>
      </div>
      <div class="modal-footer">
        <button id="btnCancelEdit" class="btn-secondary">H·ªßy</button>
        <button id="btnSaveEdit" class="btn-confirm">L∆∞u</button>
      </div>
    </div>
  </div>

  <script src="panel.js"></script>
</body>

</html>